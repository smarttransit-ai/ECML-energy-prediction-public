# ECML-energy-prediction-public

This repo contains the codes used to develop the paper under the title of "Energy and Emission Prediction for Mixed-Vehicle Transit Fleets Using Multi-Taskand Inductive Transfer Learning"
presented at ECML 2021 Applied Data Science Track.

## 1. Code Description

All code for the paper is in the form of jupyter notebooks and are in the app/ directory. Notebook descriptions:

1. segments.ipynb: generates the trip segments discussed in Section 3.
2. join.ipynb: joins the various data sources with the trip segments (Section 3), generates the data samples for training/testing.
3. models.ipynb: model training, experiments and evaluation presented in Section 4.
4. figures.ipynb: formats the output files from the experiments in models.ipynb to be used in LaTex figures in the paper.

To run the segment mapping (segments.ipynb) and join process (join.ipynb), access to our mongo is required and can be made available on request.
Full processed data is available directly by download.

## 2. Setup

1. Setup python environment with requirements.txt
2. Download data
    1. Download data directory in <ECML-energy-prediction-public>/data.
        1. Link:
        2. Description: static input files including GTFS, inrix and OSM
    2. Download output_r directory in <ECML-energy-prediction-public>/output_r
        1. Link:
        2. Description: processed datasets generated by segments.ipynb and join.iynb.
    3. Download results directory in <ECML-energy-prediction-public>/results
        1. Link:
        2. Description: all results generated by models.ipynb
    4. Download latex_csvs directory in <ECML-energy-prediction-public/latex_csvs
        1. Link:
        2. Description: final formatted results that were included in the paper. Generated by figures.ipynb.

To run the segment mapping (segments.ipynb) and join process (join.ipynb), access to our mongo is required and can be made available on request.
Full processed data is available directly by download from the instructions above.
